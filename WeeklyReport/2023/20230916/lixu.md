# 周报
## 本周
- 这周打了 [第一场ICPC网络赛](https://pintia.cn/market/item/1703381331863785472) 但是结果不理想.
- 先说下比赛过程吧：~~比赛还没开始就有几个小伙伴被楼下保安大爷拿下了~~
- 第一道签到题，L题：因为没读懂题意，在wa了三发后就暂停了，在做完第二题后 又疯狂wa了L题4次，最后我抱着试一试的心态悄悄地交了一发，过了。于是发现题意是多么的简单.
  - 题意：直接说做法吧，求 $max(2, max(t[i] / T))$ 向上取整。一共做了一个小时......
- 第二道签到题，A题：蛮好懂的，读完就敲，敲完就过了.
  - 题意：给出两个排名，如同这两场icpc网络赛的比赛队伍排名，求最后的学校排名.
  - 思路：处理出两场比赛的学校排名，然后归并.
- 第三道,D题：也是wa了几次后发现会错题意了，于是又wa了几次发现还没看懂题面。最后在三个~~人~~弱智的反复逐行阅读下，终于看懂，最后也是在两个多小时的时候过了。

### 赛后补题
- I题
- 题意：一个字符串 $s$ ，由数字、大写字母、小写字母、'?' 组成。其中：小写字母可以变成大写字母，'?' 可以变成上述共62种任意字符。 要求：至少一个数字、一个大写字母、一个小写字母，且相邻两个不能相同。
  - 求解：给出满足要求的方案数。  $3 \le s.size() \le 10^{5}$
- 思路：好吧，组合方案数，字符串，长度1e5，怎么看都是dp递推，不过比赛时没写出来。
  - 首先，状态表示：f[i][j][k] 前 i 个字符，其中结尾是 j 的情况下，组合情况为 k (1-7分别表示仅有： 数字、大写字母、小写字母、数字与大写字母、数字与小写字母、大写字母与小写字母、三种全有 的情况) 的方案数。
  - 此时，空间复杂度为 f[1e5][62][7], 题目内存只给64m，内存会爆掉。
  - 解决方案：因为当前状态仅由上一个状态转移而来，于是采用滚动数组，空间复杂度降为 f[62][7]
  - 转移：举个例子：当前以 0 结尾，状态为 数字与大写字母组合 的情况，由上一个 数字与大写字母组合 + 大写字母 的情况转移而来。
  - 此时，时间复杂度：1e5 * 62 * 62 * 7 (转移最多需要加62次，当前字符最多可能为'?'--62个)，时间会爆掉。
  - 解决方案：开一个 sum[k] 数组表示状态为f[63][k]的和，sum 数组在转移前求一次即可，后面转移时复杂度就会降为 1 。特殊的，对于相邻的不能相同时，减去 上一个的 f[x][] 即可。

- AC代码：
~~~c++
ll mod = 998244353;
ll f[63][8];
ll d[63][8];
ll sum[8];

inline void work1(ll x)
{
    f[x][1] += sum[1] - d[x][1];
    f[x][4] += sum[4] - d[x][4] + sum[2] - d[x][2];
    f[x][5] += sum[5] - d[x][5] + sum[3] - d[x][3];
    f[x][7] += sum[7] - d[x][7] + sum[6] - d[x][6];
}
inline void work2(ll x)
{
    f[x][2] += sum[2] - d[x][2];
    f[x][4] += sum[4] - d[x][4] + sum[1] - d[x][1];
    f[x][6] += sum[6] - d[x][6] + sum[3] - d[x][3];
    f[x][7] += sum[7] - d[x][7] + sum[5] - d[x][5];
}
inline void work3(ll x)
{
    f[x][3] += sum[3] - d[x][3];
    f[x][5] += sum[5] - d[x][5] + sum[1] - d[x][1];
    f[x][6] += sum[6] - d[x][6] + sum[2] - d[x][2];
    f[x][7] += sum[7] - d[x][7] + sum[4] - d[x][4];
}

void solve()
{
    ll n; cin >> n;
    string s; cin >> s;
    if ('0' <= s[0] && s[0] <= '9') f[s[0] - '0'][1] = 1;
    else if ('A' <= s[0] && s[0] <= 'Z') f[s[0] - 'A' + 10][2] = 1;
    else if ('a' <= s[0] && s[0] <= 'z') f[s[0] - 'a' + 36][3] = f[s[0] - 'a' + 10][2] = 1;
    else 
    {
        for (int i = 0; i < 10; ++i) f[i][1] = 1;
        for (int i = 10; i < 36; ++i) f[i][2] = 1;
        for (int i = 36; i < 62; ++i) f[i][3] = 1;
    } 
     
    for (auto x : s)
    {
        if ('0' <= x && x <= '9') work1(x - '0');
        else if ('A' <= x && x <= 'Z') work2(x - 'A' + 10);
        else if ('a' <= x && x <= 'z') work2(x - 'a' + 10), work3(x - 'a' + 36);
        else
        {
            for (int i = 0; i < 10; ++i) work1(i);
            for (int i = 10; i < 36; ++i) work2(i);
            for (int i = 36; i < 62; ++i) work3(i);
        }
        mem(sum, 0);
        for (int i = 0; i < 62; ++i)
            for (int j = 1; j < 8; ++j)
                d[i][j] = f[i][j] % mod, sum[j] += d[i][j];
        for (int i = 1; i <= 7; ++i) sum[i] %= mod;
        mem(f, 0);
    }

    ll ans = 0;
    for (int i = 0; i < 62; ++i) ans += d[i][7];
    cout << (ans % mod + mod) % mod << endl;
}

signed main()
{
    IOS;
    //ll _; cin >> _; while (_--)
    solve();

    return 0;
}
~~~

## 感想
- 时间一天天过去，对于目前没学会什么知识的现状来说，已将迫在眉睫了。
- 鸽了好几周，终于又开始写周报了。
